### 가비지 컬렉션이란?
- 프로그래머가 동적으로 할당한 메모리 영역 중 더 이상 쓰이지 않는 가비지 영역을 찾아서 해제하는 기능

### 가비지 컬렉션의 구조
JVM의 Heap 영역은 다음 2가지를 전제로 설계되었다.

- 대부분의 객체는 금방 접근 불가능한 상태가 된다.
- 오래된 객체에서 새로운 객체로의 참조는 아주 적게 존재한다.

즉, 객체는 대부분 일회성이며, 메모리에 오랫동안 남아있는 경우는 드물다는 것이다. 그렇기 때문에 객체의 생존 기간에 따라 물리적인 Heap 영역을 나누게 되었고 Young, Old 2가지 영역으로 설계되었다.

![gc.png](..%2Fimages%2Fjava%2Fgc.png)
1. Young 영역
   - 새롭게 생성된 객체가 할당 되는 영역
   - 대부분의 객체가 금방 Unreachable 상태가 되기 때문에, 많은 객체가 Young 영역에 생성되었다가 사라진다.
   - Young영역에 대한 기비지 컬렉션을 `Minor GC`라고 부른다.

2. Old 영역
   - Young 영역에서 Reachable 상태를 유지하여 살아남은 객체가 복사되는 영역
   - Young 영역보다 크게 할당된다.
   - Old 영역에 대한 기비지 컬렉션을 `Major GC`라고 부른다.


### 가비지 컬렉션 동작 방식
공통적으로 다음 두 가지 단계를 거친다.
1. Stop the World
2. Mark and Sweep

### Stop The World
JVM이 애플리케이션의 실행을 멈추는 작업이다. GC가 실행될 때는 GC를 실행하는 쓰레드를 제외한 모든 쓰레드들의 작업이 중단되고, GC가 완료되면 작업이 재개된다.

### Mark and Sweep
Mark : 사용되는 메모리와 사용되지 않는 메모리를 식별하는 작업
Sweep : Mark 단계에서 사용되지 않음으로 식별된 메모리를 해제하는 작업
